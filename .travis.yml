language: node_js
node_js:
  - 10
script:
  - npm run lint
  - npm test
deploy:
  provider: lambda
  function_name: "start_oauth"
  region: "eu-central-1"
  role: "arn:aws:iam::240531394518:role/service-role/start_oauth-role-46j8pt3b"
  handler_name: "handler"
  zip: "start_oauth"
  runtime: "nodejs10.x"
  on:
    all_branches: true
    condition: $TRAVIS_BRANCH =~ ^(master|develop)$